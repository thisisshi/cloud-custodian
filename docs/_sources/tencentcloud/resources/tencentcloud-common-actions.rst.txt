.. File Generated By c7n-sphinxext from source. Do not edit.

Tencent Cloud Common Actions
============================

Actions


   - :ref:`copy-instance-tags <Tencent Cloud.common.actions.copy-instance-tags>`


   - :ref:`mark-for-op <Tencent Cloud.common.actions.mark-for-op>`


   - :ref:`remove-tag <Tencent Cloud.common.actions.remove-tag>`


   - :ref:`rename-tag <Tencent Cloud.common.actions.rename-tag>`


   - :ref:`start <Tencent Cloud.common.actions.start>`


   - :ref:`stop <Tencent Cloud.common.actions.stop>`


   - :ref:`tag <Tencent Cloud.common.actions.tag>`


   - :ref:`terminate <Tencent Cloud.common.actions.terminate>`


   - :ref:`webhook <Tencent Cloud.common.actions.webhook>`




.. _Tencent Cloud.common.actions.copy-instance-tags:

copy-instance-tags
++++++++++++++++++

Action to copy tags from instance to cbs resources which are attached to it

:example:

.. code-block:: yaml

    policies:
      - name: copy_instance_tags
        resource: tencentcloud.cbs
        filters:
          - DiskState: ATTACHED
          - type: value
            key: 'InstanceIdList[0]'
            value: not-null
        actions:
          - type: copy-instance-tags
            tags:
              - test_pro_16
              - test_pro_17
          - type: copy-instance-tags
            tags:
              - test_pro_18

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      tags:
        type: array
      type:
        enum:
        - copy-instance-tags
    required:
    - type



.. _Tencent Cloud.common.actions.mark-for-op:

mark-for-op
+++++++++++

Tag resources for future action.

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      days:
        minimum: 0
        type: number
      hours:
        minimum: 0
        type: number
      msg:
        type: string
      op:
        type: string
      tag:
        type: string
      type:
        enum:
        - mark-for-op
      tz:
        type: string
    required:
    - type



.. _Tencent Cloud.common.actions.remove-tag:

remove-tag
++++++++++

Delete Tag

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      msg:
        type: string
      tag:
        type: string
      tags:
        type: array
      type:
        enum:
        - remove-tag
    required:
    - type



.. _Tencent Cloud.common.actions.rename-tag:

rename-tag
++++++++++

Rename the tag information, because Tencent Cloud API does not support direct modification,
you need to delete it first and then add it

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      new_key:
        type: string
      old_key:
        type: string
      type:
        enum:
        - rename-tag
    required:
    - type



.. _Tencent Cloud.common.actions.start:

start
+++++

Action to stop a running cvm instance

:example:

.. code-block:: yaml

    policies:
    - name: cvm-start
      resource: tencentcloud.cvm
      actions:
        - type: start

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      type:
        enum:
        - start
    required:
    - type



.. _Tencent Cloud.common.actions.stop:

stop
++++

Action to stop a running cvm instance

:example:

.. code-block:: yaml

    policies:
    - name: cvm-marked-for-op-stop
      resource: tencentcloud.cvm
      filters:
        - type: marked-for-op
          op: stop
          skew: 14
      actions:
        - type: stop

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      type:
        enum:
        - stop
    required:
    - type



.. _Tencent Cloud.common.actions.tag:

tag
+++

Add tag information

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      key:
        type: string
      type:
        enum:
        - tag
      value:
        type: string
    required:
    - type



.. _Tencent Cloud.common.actions.terminate:

terminate
+++++++++

Action to stop a running cvm instance

:example:

.. code-block:: yaml

    policies:
    - name: cvm-marked-for-op-terminate
      resource: tencentcloud.cvm
      filters:
        - type: marked-for-op
          op: terminate
          skew: 14
      actions:
        - type: terminate

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      type:
        enum:
        - terminate
    required:
    - type



.. _Tencent Cloud.common.actions.webhook:

webhook
+++++++

Calls a webhook with optional parameters and body
populated from JMESPath queries.

 .. code-block:: yaml

   policies:
     - name: call-webhook
       resource: ec2
       description: |
         Call webhook with list of resource groups
       actions:
        - type: webhook
          url: http://foo.com
          query-params:
             resource_name: resource.name
             policy_name: policy.name

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      batch:
        type: boolean
      batch-size:
        type: number
      body:
        type: string
      headers:
        additionalProperties:
          description: header values
          type: string
        type: object
      method:
        enum:
        - PUT
        - POST
        - GET
        - PATCH
        - DELETE
        type: string
      query-params:
        additionalProperties:
          description: query string values
          type: string
        type: object
      type:
        enum:
        - webhook
      url:
        type: string
    required:
    - url
    - type


