.. File Generated By c7n-sphinxext from source. Do not edit.

.. _aws.graphql-api:

aws.graphql-api
===============

Resource Manager for AppSync GraphQLApi
    


Filters
-------


  - :ref:`config-compliance <aws.common.filters.config-compliance>`
  
  - :ref:`event <aws.common.filters.event>`
  
  - :ref:`finding <aws.common.filters.finding>`
  
  - :ref:`marked-for-op <aws.common.filters.marked-for-op>`
  
  - :ref:`ops-item <aws.common.filters.ops-item>`
  
  - :ref:`reduce <aws.common.filters.reduce>`
  
  - :ref:`tag-count <aws.common.filters.tag-count>`
  
  - :ref:`value <aws.common.filters.value>`
  
  - :ref:`wafv2-enabled <aws.graphql-api.filters.wafv2-enabled>`



.. _aws.graphql-api.filters.wafv2-enabled:

wafv2-enabled
+++++++++++++
Filter AppSync GraphQLApi by wafv2 web-acl
:example:
.. code-block:: yaml
        policies:
          - name: filter-graphql-api-wafv2
            resource: graphql-api
            filters:
              - type: wafv2-enabled
                state: false
                web-acl: test-waf-v2
          - name: filter-graphql-api-wafv2-regex
            resource: graphql-api
            filters:
              - type: wafv2-enabled
                state: false
                web-acl: .*FMManagedWebACLV2-?FMS-.*

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      state:
        type: boolean
      type:
        enum:
        - wafv2-enabled
      web-acl:
        type: string
    required:
    - type




Permissions - wafv2:ListWebACLs




Actions
-------


  - :ref:`auto-tag-user <aws.common.actions.auto-tag-user>`
  
  - :ref:`copy-related-tag <aws.common.actions.copy-related-tag>`
  
  - :ref:`invoke-lambda <aws.common.actions.invoke-lambda>`
  
  - :ref:`invoke-sfn <aws.common.actions.invoke-sfn>`
  
  - :ref:`mark-for-op <aws.common.actions.mark-for-op>`
  
  - :ref:`notify <aws.common.actions.notify>`
  
  - :ref:`post-finding <aws.common.actions.post-finding>`
  
  - :ref:`post-item <aws.common.actions.post-item>`
  
  - :ref:`put-metric <aws.common.actions.put-metric>`
  
  - :ref:`remove-tag <aws.common.actions.remove-tag>`
  
  - :ref:`set-wafv2 <aws.graphql-api.actions.set-wafv2>`

  - :ref:`tag <aws.common.actions.tag>`
  
  - :ref:`webhook <aws.common.actions.webhook>`
  



.. _aws.graphql-api.actions.set-wafv2:

set-wafv2
+++++++++
Enable wafv2 protection on AppSync graphqlApi.

:example:

.. code-block:: yaml

        policies:
          - name: set-wafv2-for-graphql-api
            resource: graphql-api
            filters:
              - type: wafv2-enabled
                state: false
                web-acl: test-waf-v2
            actions:
              - type: set-wafv2
                state: true
                force: true
                web-acl: test-waf-v2

          - name: unset-wafv2-for-graphql-api
            resource: graphql-api
            filters:
              - type: wafv2-enabled
                state: true
            actions:
              - type: set-wafv2
                state: true
                force: true
                web-acl: test-waf-v2

        policies:
          - name: set-wafv2-for-graphql-api-regex
            resource: graphql-api
            filters:
              - type: wafv2-enabled
                state: false
                web-acl: .*FMManagedWebACLV2-?FMS-.*
            actions:
              - type: set-wafv2
                state: true
                force: true
                web-acl: FMManagedWebACLV2-?FMS-TestWebACL

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      force:
        type: boolean
      state:
        type: boolean
      type:
        enum:
        - set-wafv2
      web-acl:
        type: string
    required:
    - type




Permissions - wafv2:AssociateWebACL, wafv2:DisassociateWebACL, wafv2:ListWebACLs

